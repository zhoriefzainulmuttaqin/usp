/**
 * Vanilla JS Magic Line Navigation
 * Author: Bastian FieÃŸinger
 * Version: 1.0.4
 */
var magicLine=function(){"use strict";return class{constructor(e,t){var s;this.elements,(s=e)instanceof Node||s instanceof NodeList||s instanceof HTMLCollection?this.elements=e:this.elements=document.querySelectorAll(e);this.settings=((...e)=>{var t={};return Array.prototype.forEach.call(e,e=>{for(var s in e){if(!Object.prototype.hasOwnProperty.call(e,s))return;t[s]=e[s]}}),t})({navElements:"a",mode:"line",lineStrength:2,lineClass:"magic-line",wrapper:"div",animationCallback:null},t||{});const i=(e,t)=>!!(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t);function n(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}const l=e=>e.querySelectorAll(this.settings.navElements),a=(e,t)=>{Array.prototype.forEach.call(e,e=>{e.classList.remove("active")});let s=t.target;i(s,this.settings.navElements)||(s=n(s,this.settings.navElements)),s.classList.add("active")},r=e=>{let t=Array.prototype.filter.call(e,e=>e.classList.contains("active")?e:null);return t.length?t=t[0]:(t=e[0],a(e,{target:e[0]})),{el:t,rect:t.getBoundingClientRect()}},c=(e,t)=>{let s=t.target;i(s,this.settings.navElements)||(s=n(s,this.settings.navElements));const l={el:s,rect:s.getBoundingClientRect()};h(e,l)},o=(e,t)=>{const s=r(t);h(e,s)},h=(e,t,s)=>{let i,n=t.el.offsetLeft,l=t.el.offsetTop,a=t.rect.width;"line"!==this.settings.mode?i=t.rect.height:(i=this.settings.lineStrength,l+=t.rect.height),this.settings.animationCallback&&!s?this.settings.animationCallback(e,{left:n+"px",top:l+"px",width:a+"px",height:i+"px"}):(e.style.left=n+"px",e.style.top=l+"px",e.style.width=a+"px",e.style.height=i+"px")},d=()=>{Array.prototype.forEach.call(this.elements,e=>{e.classList.add("init-magic-line","magic-line-mode-"+this.settings.mode.toLowerCase());let t=document.createElement(this.settings.wrapper);t.className="magic-line-inner";let s=document.createElement("div");for(s.className=this.settings.lineClass,null===this.settings.animationCallback&&s.classList.add("magic-line-css-transition"),e.appendChild(s);e.firstChild;)t.appendChild(e.firstChild);e.appendChild(t);let i=r(l(e));h(s,i,!0)})},m=()=>{Array.prototype.forEach.call(this.elements,e=>{let t="."+this.settings.lineClass,s=e.querySelector(t),i=e.querySelector(".magic-line-inner"),n=l(i);Array.prototype.forEach.call(n,e=>{e.addEventListener("click",a.bind(null,n)),e.addEventListener("mouseover",c.bind(null,s)),e.addEventListener("mouseleave",o.bind(null,s,n))}),window.addEventListener("resize",o.bind(null,s,n))})};this.init=function(){d.call(this),m.call(this)}}}}();
